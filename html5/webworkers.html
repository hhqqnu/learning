<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>this is html5 web worker demo</title>
</head>
<body>
  <p>
    当在 HTML 页面中执行脚本时，页面的状态是不可响应的，直到脚本已完成。
web worker 是运行在后台的 JavaScript，独立于其他脚本，不会影响页面的性能。您可以继续做任何愿意做的事情：点击、选取内容等等，而此时 web worker 在后台运行。
  </p> 
  <p>Count numbers: <output id="result"></output></p>
  <button onclick="startWorker()">Start Worker</button> 
  <button onclick="stopWorker()">Stop Worker</button>
  <br><br>
  </body>
<script>
  var w;
  function startWorker(){
    if(typeof(Worker)!=="undefined"){
      if(typeof(w)=="undefined"){
        w=new Worker("webworker.js");
      }
      w.onmessage = function (event) {
        document.getElementById("result").innerHTML=event.data;
      };
    }
    else
    {
      document.getElementById("result").innerHTML="Sorry, your browser does not support Web Workers...";
    }
  } 
  function stopWorker(){
    w.terminate();
  }
</script>
</html>
